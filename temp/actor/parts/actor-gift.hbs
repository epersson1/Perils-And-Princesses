<div class="resources grid grid-3col">
  <div class="resource flex-group-center">
    <label for="system.attributes.level.value" class="resource-label">Level</label>
    <input type="text" name="system.attributes.level.value" value="{{system.attributes.level.value}}" data-dtype="Number"/>
  </div>

  <div class="resource flex-group-center">
    <label class="resource-label">Gift Dice:</label>
    <div class="heart-dice flexrow flex-center flex-between">
      {{#each system.attributes.giftDice as |used index|}}
        <input type="checkbox" name="system.attributes.giftDice.{{index}}" {{checked used}} data-dtype="Boolean"/>
      {{/each}}
    </div>
  </div>

  <div class="resource flex-group-center">
    <label class="resource-label">Gift</label>
    <div class="resource-content flexrow flex-center flex-between">
      {{#if gift}}
        <span>{{gift.name}}</span>
        <a class="item-control gift-delete" data-item-id="{{gift._id}}" title="{{localize 'DOCUMENT.Delete' type='Gift'}}"><i class="fas fa-trash"></i></a>
      {{else}}
        <span class="hint">No Gift Assigned</span>
      {{/if}}
    </div>
  </div>
</div>


<h3>Innate Abilities</h3>
<!-- Innate Abilities -->
<ul class="items-list innate-abilities">
  <li class="item flexrow items-header">
    <div class="item-name">{{localize 'Name'}}</div>
    <div class="item-controls">
      <a class="item-control item-create" title="{{localize 'DOCUMENT.Create' type='Item'}}" data-type="feature">
        <i class="fas fa-plus"></i>
        {{localize 'DOCUMENT.New' type='item'}}
      </a>
    </div>
  </li>
  {{#each innateAbilities as |ability|}}
    <li class='item flexrow' data-item-id='{{ability._id}}'>
    <div class='item-name'>
      <div class='item-image'>
        <a class='rollable' data-roll-type='item'>
          <img
            src='{{ability.img}}'
            title='{{ability.name}}'
            width='24'
            height='24'
          />
        </a>
      </div>
      <h4 data-tooltip='{{ability.system.description}}'>{{ability.name}}</h4>
    </div>
    <div class='item-controls'>
      <a
        class='item-control item-edit'
        title='{{localize "DOCUMENT.Update" type='Item'}}'
      >
        <i class='fas fa-edit'></i>
      </a>
      <a
        class='item-control item-delete'
        title='{{localize "DOCUMENT.Delete" type='Item'}}'
      >
        <i class='fas fa-trash'></i>
      </a>
    </div>
  </li>
  {{/each}}
</ul>
<h3>Special Abilities</h3>
<!-- Innate Abilities -->
<ol class="items-list special-abilities">
  <li class="item flexrow items-header">
    <div class="item-name">{{localize 'Name'}}</div>
    <div class="item-controls">
      <a class="item-control item-create" title="{{localize 'DOCUMENT.Create' type='Item'}}" data-type="feature">
        <i class="fas fa-plus"></i>
        {{localize 'DOCUMENT.New' type='item'}}
      </a>
    </div>
  </li>
  {{#each specialAbilities as |ability|}}
    <li class='item flexrow' data-item-id='{{ability._id}}'>
    <div class='item-name'>
      <div class='item-image'>
        <a class='rollable' data-roll-type='item'>
          <img
            src='{{ability.img}}'
            title='{{ability.name}}'
            width='24'
            height='24'
          />
        </a>
      </div>
      <h4 data-tooltip='{{ability.system.description}}'>{{ability.name}}</h4>
    </div>
    <div class='item-controls'>
      <a
        class='item-control item-edit'
        title='{{localize "DOCUMENT.Update" type='Item'}}'
      >
        <i class='fas fa-edit'></i>
      </a>
      <a
        class='item-control item-delete'
        title='{{localize "DOCUMENT.Delete" type='Item'}}'
      >
        <i class='fas fa-trash'></i>
      </a>
    </div>
  </li>
  {{/each}}
</ol>

<!--Curses/Trauma-->
<div class="resources grid grid-3col">
  <div class="resource grid-span-2">
    {{!-- Editors must receive enriched text data from getData to properly handle rolls --}}
      <label class="resource-label">Curses and Injuries</label>
      {{editor enrichedCurses target="system.curses" engine="prosemirror" button=true editable=editable}}
  </div>
  <div class="resource grid-span-1">
    <label class="resource-label">Trauma:</label>
    <div class="trauma-dice">
      {{#each system.attributes.trauma as |used index|}}
        <input type="checkbox" name="system.attributes.trauma.{{index}}" {{checked used}} data-dtype="Boolean"/>
      {{/each}}
    </div>
  </div>
</div>